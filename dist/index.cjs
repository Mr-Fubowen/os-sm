#!/usr/bin/env node
"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const g=require("commander"),e=require("systeminformation"),c=require("i18n"),b=require("url"),w=require("path");var p=typeof document<"u"?document.currentScript:null;const y=b.fileURLToPath(typeof document>"u"?require("url").pathToFileURL(__filename).href:p&&p.tagName.toUpperCase()==="SCRIPT"&&p.src||new URL("index.cjs",document.baseURI).href),h=w.dirname(y),k=new g.Command;c.configure({locales:["en","zh"],directory:w.join(h,"locales"),defaultLocale:"en",objectNotation:!0,autoReload:!1,updateFiles:!1});function l(o,...t){return o.replace(/\{([0-9]+)\}/g,(a,s)=>t.at(parseInt(s))??"")}const m={cpu:{func:e.cpu,options:{speed:{func:()=>e.cpuCurrentSpeed()},temperature:{func:e.cpuTemperature},cache:{func:e.cpuCache},flags:{func:e.cpuFlags}}},mem:{func:e.mem,options:{layout:{func:e.memLayout}}},disk:{func:e.disksIO,options:{layout:{func:e.diskLayout}}},os:{func:e.osInfo},network:{func:e.networkInterfaces,options:{connections:{func:e.networkConnections},gatewayDefault:{func:e.networkGatewayDefault},interfaceDefault:{func:e.networkInterfaceDefault},stats:{func:e.networkStats}}},wifi:{func:e.wifiInterfaces,options:{connections:{func:e.wifiConnections},networks:{func:e.wifiNetworks}}},battery:{func:e.battery},users:{func:e.users},processes:{func:e.processes,options:{load:{func:e.processLoad}}},graphics:{func:e.graphics},audio:{func:e.audio},printer:{func:e.printer},usb:{func:e.usb},bluetooth:{func:e.bluetoothDevices},docker:{func:e.dockerAll,options:{top:{func:e.dockerContainerProcesses},stats:{func:e.dockerContainerStats},ps:{func:e.dockerContainers},images:{func:e.dockerImages},detail:{func:e.dockerInfo},volume:{func:e.dockerVolumes}}},vbox:{func:e.vboxInfo},fs:{func:e.fsStats,options:{size:{func:e.fsSize},openFiles:{func:e.fsOpenFiles}}},bios:{func:e.bios},baseboard:{func:e.baseboard},static:{func:e.getStaticData}};function v(){const o=new g.Command;o.name("sm").description(c.__("description")).version("1.0.0");for(const t in m){const a=[],s=m[t],d=o.command(t).description(c.__(t));if(a.push(async n=>{n[t]=await s.func()}),s.options)for(const n in s.options){const i=s.options[n],r=l("-{0} --{1} <string>",n.at(0),n),u=l("{0}.options.{1}",t,n);d.option(r,c.__(u)),a.push(async f=>{f[n]=await i.func()})}d.action(async()=>{const n={},i=a.map(u=>u(n));await Promise.all(i);let r=JSON.stringify(n,(u,f)=>f,4);return console.log(r),r})}o.allowUnknownOption().allowExcessArguments(),o.parse(process.argv),process.argv.slice(2).length==0&&o.outputHelp()}k.name("sm").option("-l --lang <string>","Set the language for the application","en").version("1.0.0").allowUnknownOption().allowExcessArguments().action(o=>{c.setLocale(o.lang),v()});k.parse(process.argv);exports.replace=l;
